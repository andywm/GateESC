/*------------------------------------------------------------------------------
 ()		File: speed_control.h
 /\		Authour: Andrew Woodward-May
/  \	Date: March 2022	License: MIT

Description:
	Speed control functionality
------------------------------------------------------------------------------*/
#pragma once
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
#include "motor/sequence_state.h"
#include "util/timer.h"
#include <stdint.h>
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
// SpeedControl
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
class SpeedControl
{
public:
	void Init();
	int MeasureRPM(const SequenceState& State);
	void ConfigureMeasureRPM( uint8_t Phase, uint8_t Angle );

	Timer Time;
	uint8_t TickAngle{0};
	int TickPhase{0};
	int RPM{0};
};